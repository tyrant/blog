<% content_for :paginate do %>
  <%= render PaginationComponent.new page_no: params[:page],
                                     nsfw_banished: @nsfw_options['banish'],
                                     sfw_count: @blog_posts.count{|p| !p.nsfw? } %>
<% end %>

<h1 class="font-medium text-5xl mt-4 mb-4 text-blue-600">
  <%= params[:category].presence || 'All Posts' %>
</h1>

<div class="flex flex-col lg:flex-row-reverse sm:gap-1">

  <div class="lg:basis-1/4">
    <%= render ConsentIsSexyYoComponent.new nsfw_options: @nsfw_options %>
  </div>
  
  <hr>

  <div class="lg:basis-3/4">
    <%= content_for :paginate %>

    <div class="grid gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6">
      <%= render PostIndexComponent.with_collection @blog_posts, cms_site: @cms_site, nsfw_options: @nsfw_options %>
    </div>
    
    <%= content_for :paginate %>
  </div>
</div>
